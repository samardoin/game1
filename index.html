<html>
  <header>
    <title>Template</title>
    <canvas id="gameCanvas" width="800" height="800"></canvas><br>
    <script src="/socket.io/socket.io.js"></script>
    <!--<script src="/drawer.js"></script>-->
    <script src="/canvas.js"></script>
  </header>
  <body>
    The server is up and running!
    <script>
    var socket = io.connect();

    let connect_promise = new Promise((resolve, reject) => {
      socket.on('connect',function(){
        console.log('connected!');
        resolve('connected');
      });
    });

    Promise.all([connect_promise, canvas_promise]).then(function(values) {
        console.log('emitting!');
        socket.emit('connection_successful');
    });
    socket.on('cords',function(e){
      for (var i = 0; i < e.length;i++){
        drawCord(e[i]);
      }

    });

    </script>
  </body>
</html>
